<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Super Fancy Flask Extended</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header class="topbar">
    <div class="controls">
      <label for="trackSelect">WÃ¤hle Musik:</label>
      <select id="trackSelect">
        <option value="Lowtone Music - Chill Calm.mp3">ğŸµ Chill Calm (1)</option>
        <option value="Lowtone Music - Chill Journey.mp3">ğŸ¶ Chill Journey (2)</option>
        <option value="snoozy beats - night chill.mp3">ğŸ§ Night Chill (3)</option>
      </select>

      <label for="volume">ğŸ”Š</label>
      <input type="range" id="volume" min="0" max="1" step="0.01" value="0.5">

      <button id="muteBtn">ğŸ”‡ Mute</button>
      <button id="colorBtn">ğŸ¨ Farbwechsel</button>
    </div>
    <p class="slogan" id="quoteDisplay">â€Glaube an Wunder, Liebe und GlÃ¼ck!â€œ</p>
  </header>

  <!-- Hintergrundmusik -->
  <audio id="bgMusic" autoplay loop>
    <source src="{{ url_for('static', filename='Lowtone Music - Chill Calm.mp3') }}" type="audio/mp3">
    Dein Browser unterstÃ¼tzt kein Audio.
  </audio>

  <!-- Emoji-Regen (nur stilisiert) -->
  <div id="emoji-rain">
    <!-- optional: JS fÃ¼r fallende Emojis -->
  </div>

  <script>
    const quotes = [
      "â€Glaube an Wunder, Liebe und GlÃ¼ck!â€œ",
      "â€Sei du selbst die VerÃ¤nderung, die du dir wÃ¼nschst.â€œ",
      "â€TrÃ¤ume nicht dein Leben, lebe deinen Traum.â€œ",
      "â€Mut steht am Anfang des Handelns, GlÃ¼ck am Ende.â€œ",
      "â€Musik ist die Stimme der Seele.â€œ",
      "â€Mit Fantasie wird alles mÃ¶glich.â€œ"
    ];

    const quoteDisplay = document.getElementById("quoteDisplay");
    function rotateQuotes() {
      quoteDisplay.style.opacity = 0;
      setTimeout(() => {
        const index = Math.floor(Math.random() * quotes.length);
        quoteDisplay.textContent = quotes[index];
        quoteDisplay.style.opacity = 1;
      }, 500);
    }
    rotateQuotes();
    setInterval(rotateQuotes, 8000);

    // Musiksteuerung
    const trackSelect = document.getElementById('trackSelect');
    const bgMusic = document.getElementById('bgMusic');
    const volume = document.getElementById('volume');
    const muteBtn = document.getElementById('muteBtn');
    const colorBtn = document.getElementById('colorBtn');

    trackSelect.addEventListener('change', () => {
      const file = trackSelect.value;
      bgMusic.src = `/static/${file}`;
      bgMusic.play();
    });

    volume.addEventListener('input', () => {
      bgMusic.volume = volume.value;
    });

    muteBtn.addEventListener('click', () => {
      bgMusic.muted = !bgMusic.muted;
      muteBtn.textContent = bgMusic.muted ? 'ğŸ”ˆ Unmute' : 'ğŸ”‡ Mute';
    });

    // Farbwechsel
    const gradients = [
      "linear-gradient(to right, #FFDEE9, #B5FFFC)",
      "linear-gradient(to right, #D5FFD0, #FDCB82)",
      "linear-gradient(to right, #C9FFBF, #FBD3E9)",
      "linear-gradient(to right, #A1C4FD, #C2FFD8)"
    ];

    colorBtn.addEventListener('click', () => {
      const index = Math.floor(Math.random() * gradients.length);
      document.body.style.background = gradients[index];
    });
  </script>
</body>
</html>
