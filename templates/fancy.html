<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Super Fancy Flask Extended</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header class="topbar">
    <div class="controls">
      <label for="trackSelect">Wähle Musik:</label>
      <select id="trackSelect">
        <option value="Lowtone Music - Chill Calm.mp3">🎵 Chill Calm (1)</option>
        <option value="Lowtone Music - Chill Journey.mp3">🎶 Chill Journey (2)</option>
        <option value="snoozy beats - night chill.mp3">🎧 Night Chill (3)</option>
      </select>

      <label for="volume">🔊</label>
      <input type="range" id="volume" min="0" max="1" step="0.01" value="0.5">

      <button id="muteBtn">🔇 Mute</button>
      <button id="colorBtn">🎨 Farbwechsel</button>
    </div>
    <p class="slogan" id="quoteDisplay">„Glaube an Wunder, Liebe und Glück!“</p>
  </header>

  <!-- Hintergrundmusik -->
  <audio id="bgMusic" autoplay loop>
    <source src="{{ url_for('static', filename='Lowtone Music - Chill Calm.mp3') }}" type="audio/mp3">
    Dein Browser unterstützt kein Audio.
  </audio>

  <!-- Emoji-Regen (nur stilisiert) -->
  <div id="emoji-rain">
    <!-- optional: JS für fallende Emojis -->
  </div>

  <script>
    const quotes = [
      "„Glaube an Wunder, Liebe und Glück!“",
      "„Sei du selbst die Veränderung, die du dir wünschst.“",
      "„Träume nicht dein Leben, lebe deinen Traum.“",
      "„Mut steht am Anfang des Handelns, Glück am Ende.“",
      "„Musik ist die Stimme der Seele.“",
      "„Mit Fantasie wird alles möglich.“"
    ];

    const quoteDisplay = document.getElementById("quoteDisplay");
    function rotateQuotes() {
      quoteDisplay.style.opacity = 0;
      setTimeout(() => {
        const index = Math.floor(Math.random() * quotes.length);
        quoteDisplay.textContent = quotes[index];
        quoteDisplay.style.opacity = 1;
      }, 500);
    }
    rotateQuotes();
    setInterval(rotateQuotes, 8000);

    // Musiksteuerung
    const trackSelect = document.getElementById('trackSelect');
    const bgMusic = document.getElementById('bgMusic');
    const volume = document.getElementById('volume');
    const muteBtn = document.getElementById('muteBtn');
    const colorBtn = document.getElementById('colorBtn');

    trackSelect.addEventListener('change', () => {
      const file = trackSelect.value;
      bgMusic.src = `/static/${file}`;
      bgMusic.play();
    });

    volume.addEventListener('input', () => {
      bgMusic.volume = volume.value;
    });

    muteBtn.addEventListener('click', () => {
      bgMusic.muted = !bgMusic.muted;
      muteBtn.textContent = bgMusic.muted ? '🔈 Unmute' : '🔇 Mute';
    });

    // Farbwechsel
    const gradients = [
      "linear-gradient(to right, #FFDEE9, #B5FFFC)",
      "linear-gradient(to right, #D5FFD0, #FDCB82)",
      "linear-gradient(to right, #C9FFBF, #FBD3E9)",
      "linear-gradient(to right, #A1C4FD, #C2FFD8)"
    ];

    colorBtn.addEventListener('click', () => {
      const index = Math.floor(Math.random() * gradients.length);
      document.body.style.background = gradients[index];
    });
  </script>
</body>
</html>
